(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{30:function(e,a,t){e.exports=t(59)},59:function(e,a,t){"use strict";t.r(a);var l=t(0),n=t.n(l),r=t(27),c=t.n(r),s=t(4),o=t(1),i=t(28),m=t.n(i);var u=function(){var e=!1;if(localStorage.token){var a=localStorage.token,t=m()(a);console.log(t),t.id&&(e=!0),localStorage.setItem("email",t.email),localStorage.setItem("isAuth",e);var l=Date.now()/1e3;t.exp<l&&(localStorage.removeItem("jwtToken"),window.location.href="./login")}};var d=function(){return n.a.createElement("div",{style:{height:"75vh",alignItems:"center",display:"flex"}},n.a.createElement("div",{className:"container valign-wrapper flex"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"flex"},n.a.createElement("h1",null,"Basic Login Authentication")),n.a.createElement("br",null),n.a.createElement("div",{className:"col s6 center"},n.a.createElement(s.b,{to:"/register",style:{height:"5vh",width:"150px"},className:"btn btn-lg waves-light hoverable blue"},"Register")),n.a.createElement("div",{className:"col s6 center"},n.a.createElement(s.b,{to:"/login",style:{height:"5vh",width:"150px"},className:"btn btn-lg hoverable waves-light green"},"Login")))))},p=t(11),g=t(8),E=t(9),v=t(13),b=t.n(v);var h=function(){var e=Object(o.e)();localStorage.isAuth&&e.push("/main");var a=Object(l.useState)({email:"",password:""}),t=Object(E.a)(a,2),r=t[0],c=t[1],i=Object(l.useState)({email:"",password:""}),m=Object(E.a)(i,2),d=m[0],v=m[1];function h(e){v({});var a=e.target,t=a.id,l=a.value;c((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(p.a)({},t,l))}))}return n.a.createElement("div",null,n.a.createElement("div",{className:"container flex",style:{height:"100vh",alignItems:"center",display:"flex"}},n.a.createElement("div",{className:"col s12"},n.a.createElement(s.b,{to:"/",className:"btn-flat waves-effect"},n.a.createElement("i",{className:"material-icons left"})," Back to home"),n.a.createElement("div",{className:"col s12",style:{width:"900px"}},n.a.createElement("h4",null,n.a.createElement("b",null,"Login")," Below")),n.a.createElement("p",{className:"grey-text text-darken-1"},"Don't have an account? ",n.a.createElement(s.b,{to:"/register"},"Register")),n.a.createElement("form",{noValidate:!0,onSubmit:function(a){a.preventDefault(),console.log(r),function(e,a,t){b.a.post("/auth/login",e).then((function(e){console.log(e);var l=e.data;l.success?(l=JSON.stringify(l),localStorage.setItem("token",l),u(),a.push("/main")):t(l)}))}(r,e,(function(e){v(e)}))}},n.a.createElement("div",{className:"input-field col s12"},n.a.createElement("input",{id:"email",onChange:h,type:"email"}),n.a.createElement("label",{htmlFor:"email"},"Email"),n.a.createElement("span",{className:"red-text"},d.email)),n.a.createElement("br",null),n.a.createElement("div",{className:"input-field col s12"},n.a.createElement("input",{type:"password",id:"password",onChange:h,error:d.password,value:r.password}),n.a.createElement("label",{htmlFor:"password"},"Password"),n.a.createElement("span",{className:"red-text"},d.password)),n.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},n.a.createElement("button",{style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"},type:"submit",className:"btn btn-large waves-effect waves-light hoverable orange accent-3"},"Login"))))))};var f=function(){var e=Object(o.e)();localStorage.isAuth&&e.push("/main");var a=Object(l.useState)({name:"",email:"",password:"",Cpassword:""}),t=Object(E.a)(a,2),r=t[0],c=t[1],i=Object(l.useState)({}),m=Object(E.a)(i,2),d=m[0],v=m[1];function h(e){v({});var a=e.target,t=a.id,l=a.value;c((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(p.a)({},t,l))}))}return n.a.createElement("div",null,n.a.createElement("div",{className:"container flex",style:{height:"100vh",alignItems:"center",display:"flex"}},n.a.createElement("div",{className:"col s12"},n.a.createElement(s.b,{to:"/",className:"btn-flat waves-effect"},n.a.createElement("i",{className:"material-icons left"})," Back to home"),n.a.createElement("div",{className:"col s12",style:{width:"900px"}},n.a.createElement("h4",null,n.a.createElement("b",null,"Register")," Below")),n.a.createElement("p",{className:"grey-text text-darken-1"},"Already have an account? ",n.a.createElement(s.b,{to:"/login"},"Login")),n.a.createElement("form",{noValidate:!0,onSubmit:function(a){a.preventDefault(),console.log(r),function(e,a,t){console.log(e),b.a.post("/auth/register",e).then((function(e){console.log(e.data);var l=e.data;l.success?(l=JSON.stringify(l),localStorage.setItem("token",l),u(),a.push("/")):t(l)}))}(r,e,(function(e){e&&(v(e),console.log(d))}))}},n.a.createElement("div",{className:"input-field col s12"},n.a.createElement("input",{id:"name",onChange:h,type:"text",value:r.name,error:d.name}),n.a.createElement("label",{htmlFor:"name"},"Name"),n.a.createElement("span",{className:"red-text"},d.name)),n.a.createElement("div",{className:"input-field col s12"},n.a.createElement("input",{id:"email",onChange:h,type:"email",error:d.email,value:r.email}),n.a.createElement("label",{htmlFor:"email"},"Email"),n.a.createElement("span",{className:"red-text"},d.email)),n.a.createElement("div",{className:"input-field col s12"},n.a.createElement("input",{type:"password",id:"password",onChange:h,error:d.password,value:r.password}),n.a.createElement("label",{htmlFor:"password"},"Password"),n.a.createElement("span",{className:"red-text"},d.password)),n.a.createElement("div",{className:"input-field col s12"},n.a.createElement("input",{type:"password",id:"Cpassword",onChange:h,error:d.Cpassword,value:r.Cpassword}),n.a.createElement("label",{htmlFor:"Cpassword"},"Confirm Password"),n.a.createElement("span",{className:"red-text"},d.password)),n.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},n.a.createElement("button",{style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"},type:"submit",className:"btn btn-large waves-effect waves-light hoverable blue accent-3"},"Register"))))))};var w=function(){var e=Object(o.e)();localStorage.isAuth||e.push("/");var a=Object(l.useState)({success:"",err:""}),t=Object(E.a)(a,2),r=t[0],c=t[1],i=Object(l.useState)(!1),m=Object(E.a)(i,2),u=m[0],d=m[1];return n.a.createElement("div",null,n.a.createElement("div",{className:"container",style:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"}},n.a.createElement("div",null,n.a.createElement(s.b,{to:"/",className:"btn btn-large waves-effect waves-light hoverable blue"},n.a.createElement("i",{className:"material-icons left"})," Back to home"),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("button",{className:"btn btn-large waves-effect waves-light hoverable red",onClick:function(){localStorage.removeItem("token"),localStorage.removeItem("isAuth"),localStorage.removeItem("email"),e.push("/")}},"Logout"),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("button",{className:"btn btn-large waves-effect waves-light hoverable green",onClick:function(){d(!0),function(e,a){var t={email:e};b.a.post("/auth/sendMail",t).then((function(e){e.data.success?a(!0):a(!1)}))}(localStorage.email,(function(e){c(e?function(e){return Object(g.a)(Object(g.a)({},e),{},{success:"Mail Sent!"})}:function(e){return Object(g.a)(Object(g.a)({},e),{},{err:"Network Err!"})}),d(!1)}))}},"Forgot Password"),n.a.createElement("br",null),u?n.a.createElement("span",null,"Sending...."):null,r.success?n.a.createElement("small",{style:{color:"green"}},r.success):null,r.err?n.a.createElement("small",{style:{color:"red"}},r.err):null)))};var N=function(){return u(),n.a.createElement(s.a,null,n.a.createElement(o.a,{exact:!0,path:"/",component:d}),n.a.createElement(o.a,{exact:!0,path:"/login",render:function(e){return n.a.createElement(h,e)}}),n.a.createElement(o.a,{exact:!0,path:"/register",render:function(e){return n.a.createElement(f,e)}}),n.a.createElement(o.a,{exact:!0,path:"/main",render:function(e){return n.a.createElement(w,Object.assign({},e,{auth:!0}))}}))};c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(N,null)),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.d94ed8ae.chunk.js.map